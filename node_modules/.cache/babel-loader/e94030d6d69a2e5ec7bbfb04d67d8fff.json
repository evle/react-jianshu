{"ast":null,"code":"import { fromJS } from 'immutable';\nimport * as constants from './actionTypes';\nconst defaultState = fromJS({\n  topicList: [],\n  articleList: [],\n  recommendList: [],\n  writerList: [],\n  writerPage: 1,\n  writerTotalPage: 1,\n  transform: false,\n  articlePage: 1,\n  showScroll: false\n});\nexport default ((state = defaultState, action) => {\n  switch (action.type) {\n    case constants.CHANGE_TOPIC_LIST:\n      return state.merge({\n        topicList: fromJS(action.data.topicList),\n        articleList: fromJS(action.data.articleList),\n        recommendList: fromJS(action.data.recommendList)\n      });\n\n    case constants.CHANGE_MORE_LIST:\n      // console.log(action)\n      return state.merge({\n        articleList: state.get('articleList').concat(action.data),\n        articlePage: fromJS(action.nextPage)\n      });\n\n    case constants.CHANGE_SHOW_TOP:\n      // console.log(action)\n      return state.set('showScroll', action.show);\n\n    case constants.CHANGE_WRITER_LIST:\n      return state.merge({\n        writerList: fromJS(action.data),\n        writerTotalPage: action.totalPage\n      });\n\n    case constants.CHANGE_WRITER_PAGE:\n      console.log(action.transform);\n      return state.merge({\n        writerPage: action.page,\n        transform: action.transform\n      });\n    // set('writerPage',action.page)    \n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["D:\\Code\\react\\jianshu\\src\\pages\\home\\store\\reducer.js"],"names":["fromJS","constants","defaultState","topicList","articleList","recommendList","writerList","writerPage","writerTotalPage","transform","articlePage","showScroll","state","action","type","CHANGE_TOPIC_LIST","merge","data","CHANGE_MORE_LIST","get","concat","nextPage","CHANGE_SHOW_TOP","set","show","CHANGE_WRITER_LIST","totalPage","CHANGE_WRITER_PAGE","console","log","page"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,WAArB;AACA,OAAO,KAAKC,SAAZ,MAA2B,eAA3B;AAGA,MAAMC,YAAY,GAAGF,MAAM,CAAC;AACxBG,EAAAA,SAAS,EAAC,EADc;AAExBC,EAAAA,WAAW,EAAC,EAFY;AAGxBC,EAAAA,aAAa,EAAC,EAHU;AAIxBC,EAAAA,UAAU,EAAC,EAJa;AAKxBC,EAAAA,UAAU,EAAC,CALa;AAMxBC,EAAAA,eAAe,EAAC,CANQ;AAOxBC,EAAAA,SAAS,EAAC,KAPc;AAQxBC,EAAAA,WAAW,EAAC,CARY;AASxBC,EAAAA,UAAU,EAAC;AATa,CAAD,CAA3B;AAYA,gBAAe,CAACC,KAAK,GAAGV,YAAT,EAAsBW,MAAtB,KAAgC;AAC3C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKb,SAAS,CAACc,iBAAf;AACI,aAAOH,KAAK,CAACI,KAAN,CAAY;AACfb,QAAAA,SAAS,EAACH,MAAM,CAACa,MAAM,CAACI,IAAP,CAAYd,SAAb,CADD;AAEfC,QAAAA,WAAW,EAACJ,MAAM,CAACa,MAAM,CAACI,IAAP,CAAYb,WAAb,CAFH;AAGfC,QAAAA,aAAa,EAACL,MAAM,CAACa,MAAM,CAACI,IAAP,CAAYZ,aAAb;AAHL,OAAZ,CAAP;;AAKJ,SAAKJ,SAAS,CAACiB,gBAAf;AACI;AACA,aAAON,KAAK,CAACI,KAAN,CAAY;AACfZ,QAAAA,WAAW,EAACQ,KAAK,CAACO,GAAN,CAAU,aAAV,EAAyBC,MAAzB,CAAgCP,MAAM,CAACI,IAAvC,CADG;AAEfP,QAAAA,WAAW,EAACV,MAAM,CAACa,MAAM,CAACQ,QAAR;AAFH,OAAZ,CAAP;;AAIJ,SAAKpB,SAAS,CAACqB,eAAf;AACI;AACA,aAAOV,KAAK,CAACW,GAAN,CAAU,YAAV,EAAuBV,MAAM,CAACW,IAA9B,CAAP;;AACJ,SAAKvB,SAAS,CAACwB,kBAAf;AACI,aAAOb,KAAK,CAACI,KAAN,CAAY;AACfV,QAAAA,UAAU,EAACN,MAAM,CAACa,MAAM,CAACI,IAAR,CADF;AAEfT,QAAAA,eAAe,EAACK,MAAM,CAACa;AAFR,OAAZ,CAAP;;AAIJ,SAAKzB,SAAS,CAAC0B,kBAAf;AACIC,MAAAA,OAAO,CAACC,GAAR,CAAYhB,MAAM,CAACJ,SAAnB;AACA,aAAOG,KAAK,CAACI,KAAN,CAAY;AACfT,QAAAA,UAAU,EAACM,MAAM,CAACiB,IADH;AAEfrB,QAAAA,SAAS,EAACI,MAAM,CAACJ;AAFF,OAAZ,CAAP;AAIA;;AACJ;AACA,aAAOG,KAAP;AA7BJ;AA+BH,CAhCD","sourcesContent":["import {fromJS} from 'immutable';\r\nimport * as constants from './actionTypes';\r\n\r\n\r\nconst defaultState = fromJS({\r\n    topicList:[],\r\n    articleList:[],\r\n    recommendList:[],\r\n    writerList:[],\r\n    writerPage:1,\r\n    writerTotalPage:1,\r\n    transform:false,\r\n    articlePage:1,\r\n    showScroll:false\r\n\r\n    })\r\nexport default (state = defaultState,action) =>{\r\n    switch(action.type){    \r\n        case constants.CHANGE_TOPIC_LIST:\r\n            return state.merge({\r\n                topicList:fromJS(action.data.topicList),\r\n                articleList:fromJS(action.data.articleList),\r\n                recommendList:fromJS(action.data.recommendList)\r\n            })\r\n        case constants.CHANGE_MORE_LIST:\r\n            // console.log(action)\r\n            return state.merge({\r\n                articleList:state.get('articleList').concat(action.data),\r\n                articlePage:fromJS(action.nextPage)\r\n            })\r\n        case constants.CHANGE_SHOW_TOP:\r\n            // console.log(action)\r\n            return state.set('showScroll',action.show)\r\n        case constants.CHANGE_WRITER_LIST:\r\n            return state.merge({\r\n                writerList:fromJS(action.data),\r\n                writerTotalPage:action.totalPage\r\n            })\r\n        case constants.CHANGE_WRITER_PAGE:\r\n            console.log(action.transform)\r\n            return state.merge({\r\n                writerPage:action.page,\r\n                transform:action.transform\r\n            })\r\n            // set('writerPage',action.page)    \r\n        default:\r\n        return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}