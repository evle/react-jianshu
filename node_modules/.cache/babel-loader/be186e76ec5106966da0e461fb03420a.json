{"ast":null,"code":"import { fromJS } from 'immutable';\nimport * as constants from './actionTypes';\nconst defaultState = fromJS({\n  topicList: [],\n  articleList: [],\n  recommendList: [],\n  writerList: [],\n  writerPage: 1,\n  writerTotalPage: 0,\n  articlePage: 1,\n  showScroll: false\n});\nexport default ((state = defaultState, action) => {\n  switch (action.type) {\n    case constants.CHANGE_TOPIC_LIST:\n      return state.merge({\n        topicList: fromJS(action.data.topicList),\n        articleList: fromJS(action.data.articleList),\n        recommendList: fromJS(action.data.recommendList)\n      });\n\n    case constants.CHANGE_MORE_LIST:\n      // console.log(action)\n      return state.merge({\n        articleList: state.get('articleList').concat(action.data),\n        articlePage: fromJS(action.nextPage)\n      });\n\n    case constants.CHANGE_SHOW_TOP:\n      // console.log(action)\n      return state.set('showScroll', action.show);\n\n    case constants.CHANGE_WRITER_LIST:\n      return state.merge({\n        writerList: fromJS(action.data),\n        writerTotalPage: action.totalPage\n      });\n\n    case constants.CHANGE_WRITER_PAGE:\n      return state.set('writerPage', action.page);\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["D:\\Code\\react\\jianshu\\src\\pages\\home\\store\\reducer.js"],"names":["fromJS","constants","defaultState","topicList","articleList","recommendList","writerList","writerPage","writerTotalPage","articlePage","showScroll","state","action","type","CHANGE_TOPIC_LIST","merge","data","CHANGE_MORE_LIST","get","concat","nextPage","CHANGE_SHOW_TOP","set","show","CHANGE_WRITER_LIST","totalPage","CHANGE_WRITER_PAGE","page"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,WAArB;AACA,OAAO,KAAKC,SAAZ,MAA2B,eAA3B;AAGA,MAAMC,YAAY,GAAGF,MAAM,CAAC;AACxBG,EAAAA,SAAS,EAAC,EADc;AAExBC,EAAAA,WAAW,EAAC,EAFY;AAGxBC,EAAAA,aAAa,EAAC,EAHU;AAIxBC,EAAAA,UAAU,EAAC,EAJa;AAKxBC,EAAAA,UAAU,EAAC,CALa;AAMxBC,EAAAA,eAAe,EAAC,CANQ;AAOxBC,EAAAA,WAAW,EAAC,CAPY;AAQxBC,EAAAA,UAAU,EAAC;AARa,CAAD,CAA3B;AAWA,gBAAe,CAACC,KAAK,GAAGT,YAAT,EAAsBU,MAAtB,KAAgC;AAC3C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKZ,SAAS,CAACa,iBAAf;AACI,aAAOH,KAAK,CAACI,KAAN,CAAY;AACfZ,QAAAA,SAAS,EAACH,MAAM,CAACY,MAAM,CAACI,IAAP,CAAYb,SAAb,CADD;AAEfC,QAAAA,WAAW,EAACJ,MAAM,CAACY,MAAM,CAACI,IAAP,CAAYZ,WAAb,CAFH;AAGfC,QAAAA,aAAa,EAACL,MAAM,CAACY,MAAM,CAACI,IAAP,CAAYX,aAAb;AAHL,OAAZ,CAAP;;AAKJ,SAAKJ,SAAS,CAACgB,gBAAf;AACI;AACA,aAAON,KAAK,CAACI,KAAN,CAAY;AACfX,QAAAA,WAAW,EAACO,KAAK,CAACO,GAAN,CAAU,aAAV,EAAyBC,MAAzB,CAAgCP,MAAM,CAACI,IAAvC,CADG;AAEfP,QAAAA,WAAW,EAACT,MAAM,CAACY,MAAM,CAACQ,QAAR;AAFH,OAAZ,CAAP;;AAIJ,SAAKnB,SAAS,CAACoB,eAAf;AACI;AACA,aAAOV,KAAK,CAACW,GAAN,CAAU,YAAV,EAAuBV,MAAM,CAACW,IAA9B,CAAP;;AACJ,SAAKtB,SAAS,CAACuB,kBAAf;AACI,aAAOb,KAAK,CAACI,KAAN,CAAY;AACfT,QAAAA,UAAU,EAACN,MAAM,CAACY,MAAM,CAACI,IAAR,CADF;AAEfR,QAAAA,eAAe,EAACI,MAAM,CAACa;AAFR,OAAZ,CAAP;;AAIJ,SAAKxB,SAAS,CAACyB,kBAAf;AACI,aAAOf,KAAK,CAACW,GAAN,CAAU,YAAV,EAAuBV,MAAM,CAACe,IAA9B,CAAP;;AACJ;AACA,aAAOhB,KAAP;AAxBJ;AA0BH,CA3BD","sourcesContent":["import {fromJS} from 'immutable';\r\nimport * as constants from './actionTypes';\r\n\r\n\r\nconst defaultState = fromJS({\r\n    topicList:[],\r\n    articleList:[],\r\n    recommendList:[],\r\n    writerList:[],\r\n    writerPage:1,\r\n    writerTotalPage:0,\r\n    articlePage:1,\r\n    showScroll:false\r\n\r\n    })\r\nexport default (state = defaultState,action) =>{\r\n    switch(action.type){    \r\n        case constants.CHANGE_TOPIC_LIST:\r\n            return state.merge({\r\n                topicList:fromJS(action.data.topicList),\r\n                articleList:fromJS(action.data.articleList),\r\n                recommendList:fromJS(action.data.recommendList)\r\n            })\r\n        case constants.CHANGE_MORE_LIST:\r\n            // console.log(action)\r\n            return state.merge({\r\n                articleList:state.get('articleList').concat(action.data),\r\n                articlePage:fromJS(action.nextPage)\r\n            })\r\n        case constants.CHANGE_SHOW_TOP:\r\n            // console.log(action)\r\n            return state.set('showScroll',action.show)\r\n        case constants.CHANGE_WRITER_LIST:\r\n            return state.merge({\r\n                writerList:fromJS(action.data),\r\n                writerTotalPage:action.totalPage\r\n            })\r\n        case constants.CHANGE_WRITER_PAGE:\r\n            return state.set('writerPage',action.page)    \r\n        default:\r\n        return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}