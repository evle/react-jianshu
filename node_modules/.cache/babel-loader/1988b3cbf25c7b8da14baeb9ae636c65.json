{"ast":null,"code":"import * as constants from './actionTypes';\nimport { fromJS } from 'immutable';\nimport axios from 'axios';\n\nconst changeHomeList = data => ({\n  type: constants.CHANGE_TOPIC_LIST,\n  data\n});\n\nconst changMoreList = (data, nextPage) => ({\n  type: constants.CHANGE_MORE_LIST,\n  data: fromJS(data),\n  nextPage\n});\n\nconst changWriterList = (data, totalPage) => ({\n  type: constants.CHANGE_WRITER_LIST,\n  data,\n  totalPage\n});\n\nexport const changeShowScroll = show => ({\n  type: constants.CHANGE_SHOW_TOP,\n  show\n});\nexport const getHomeList = () => {\n  return dispatch => {\n    axios.get('/api/home.json').then(res => {\n      dispatch(changeHomeList(res.data.data));\n    }).catch(() => {\n      console.log('err');\n    });\n  };\n};\nexport const getMorelist = page => {\n  return dispatch => {\n    axios.get('api/homeList.json?page=' + page).then(res => {\n      // console.log(res.data.data.articleList)\n      dispatch(changMoreList(res.data.data.articleList, page + 1));\n    }).catch(() => {\n      console.log('err');\n    });\n  };\n};\nexport const getWriterJson = () => {\n  return dispatch => {\n    axios.get('api/writerList.json').then(res => {\n      // console.log(res.data);\n      console.log();\n      dispatch(changWriterList(res.data.data, Math.ceil(res.data.data.length / 5)));\n    }).catch(() => {\n      console.log('getWriterJsonErr');\n    });\n  };\n};","map":{"version":3,"sources":["D:\\Code\\react\\jianshu\\src\\pages\\home\\store\\actionCreators.js"],"names":["constants","fromJS","axios","changeHomeList","data","type","CHANGE_TOPIC_LIST","changMoreList","nextPage","CHANGE_MORE_LIST","changWriterList","totalPage","CHANGE_WRITER_LIST","changeShowScroll","show","CHANGE_SHOW_TOP","getHomeList","dispatch","get","then","res","catch","console","log","getMorelist","page","articleList","getWriterJson","Math","ceil","length"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,eAA3B;AACA,SAAQC,MAAR,QAAsB,WAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,cAAc,GAAIC,IAAD,KAAU;AAC7BC,EAAAA,IAAI,EAACL,SAAS,CAACM,iBADc;AAE7BF,EAAAA;AAF6B,CAAV,CAAvB;;AAKA,MAAMG,aAAa,GAAG,CAACH,IAAD,EAAMI,QAAN,MAAmB;AACrCH,EAAAA,IAAI,EAACL,SAAS,CAACS,gBADsB;AAErCL,EAAAA,IAAI,EAACH,MAAM,CAACG,IAAD,CAF0B;AAGrCI,EAAAA;AAHqC,CAAnB,CAAtB;;AAMA,MAAME,eAAe,GAAG,CAACN,IAAD,EAAMO,SAAN,MAAoB;AACxCN,EAAAA,IAAI,EAACL,SAAS,CAACY,kBADyB;AAExCR,EAAAA,IAFwC;AAGxCO,EAAAA;AAHwC,CAApB,CAAxB;;AAMA,OAAO,MAAME,gBAAgB,GAAIC,IAAD,KAAU;AACtCT,EAAAA,IAAI,EAACL,SAAS,CAACe,eADuB;AAEtCD,EAAAA;AAFsC,CAAV,CAAzB;AAKP,OAAO,MAAME,WAAW,GAAG,MAAK;AAC5B,SAAQC,QAAD,IAAa;AAChBf,IAAAA,KAAK,CAACgB,GAAN,CAAU,gBAAV,EAA4BC,IAA5B,CAAkCC,GAAD,IAAQ;AACrCH,MAAAA,QAAQ,CAACd,cAAc,CAACiB,GAAG,CAAChB,IAAJ,CAASA,IAAV,CAAf,CAAR;AACH,KAFD,EAEGiB,KAFH,CAES,MAAK;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH,KAJD;AAKH,GAND;AAOH,CARM;AAUP,OAAO,MAAMC,WAAW,GAAIC,IAAD,IAAS;AAChC,SAAOR,QAAD,IAAa;AACff,IAAAA,KAAK,CAACgB,GAAN,CAAU,4BAA2BO,IAArC,EAA2CN,IAA3C,CAAiDC,GAAD,IAAQ;AACpD;AACAH,MAAAA,QAAQ,CAACV,aAAa,CAACa,GAAG,CAAChB,IAAJ,CAASA,IAAT,CAAcsB,WAAf,EAA2BD,IAAI,GAAC,CAAhC,CAAd,CAAR;AACH,KAHD,EAGGJ,KAHH,CAGS,MAAK;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH,KALD;AAMH,GAPD;AAQH,CATM;AAWP,OAAO,MAAMI,aAAa,GAAG,MAAK;AAC9B,SAAOV,QAAD,IAAa;AACff,IAAAA,KAAK,CAACgB,GAAN,CAAU,qBAAV,EAAiCC,IAAjC,CAAuCC,GAAD,IAAQ;AAC1C;AACAE,MAAAA,OAAO,CAACC,GAAR;AACAN,MAAAA,QAAQ,CAACP,eAAe,CAACU,GAAG,CAAChB,IAAJ,CAASA,IAAV,EAAewB,IAAI,CAACC,IAAL,CAAUT,GAAG,CAAChB,IAAJ,CAASA,IAAT,CAAc0B,MAAd,GAAqB,CAA/B,CAAf,CAAhB,CAAR;AACH,KAJD,EAIGT,KAJH,CAIS,MAAK;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACH,KAND;AAOH,GARD;AASH,CAVM","sourcesContent":["import * as constants from './actionTypes';\r\nimport {fromJS} from  'immutable';\r\nimport axios from 'axios';\r\n\r\nconst changeHomeList = (data) =>({\r\n    type:constants.CHANGE_TOPIC_LIST,\r\n    data\r\n})\r\n\r\nconst changMoreList = (data,nextPage) =>({\r\n    type:constants.CHANGE_MORE_LIST,\r\n    data:fromJS(data),\r\n    nextPage\r\n})\r\n\r\nconst changWriterList = (data,totalPage) =>({\r\n    type:constants.CHANGE_WRITER_LIST,\r\n    data,\r\n    totalPage\r\n})\r\n\r\nexport const changeShowScroll = (show) =>({\r\n    type:constants.CHANGE_SHOW_TOP,\r\n    show\r\n})\r\n\r\nexport const getHomeList = () =>{\r\n    return (dispatch) =>{\r\n        axios.get('/api/home.json').then((res) =>{\r\n            dispatch(changeHomeList(res.data.data))\r\n        }).catch(() =>{\r\n            console.log('err')\r\n        })\r\n    }\r\n}\r\n\r\nexport const getMorelist = (page) =>{\r\n    return(dispatch) =>{\r\n        axios.get('api/homeList.json?page='+ page).then((res) =>{\r\n            // console.log(res.data.data.articleList)\r\n            dispatch(changMoreList(res.data.data.articleList,page+1))\r\n        }).catch(() =>{\r\n            console.log('err')\r\n        })\r\n    }\r\n}\r\n\r\nexport const getWriterJson = () =>{\r\n    return(dispatch) =>{\r\n        axios.get('api/writerList.json').then((res) =>{\r\n            // console.log(res.data);\r\n            console.log()\r\n            dispatch(changWriterList(res.data.data,Math.ceil(res.data.data.length/5)))\r\n        }).catch(() =>{\r\n            console.log('getWriterJsonErr')\r\n        })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}