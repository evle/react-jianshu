{"ast":null,"code":"import * as constants from './actionTypes'; // import {fromJS} from  'immutable';\n\nimport axios from 'axios';\n\nconst changelogin = value => ({\n  type: constants.CHANGE_LOGIN,\n  value\n});\n\nexport const logout = () => ({\n  type: constants.CHANGE_LOGOUT,\n  value: false\n});\nexport const login = (account, password) => {\n  return dispatch => {\n    axios.get('/api/login.json?account=' + account + '&password=' + password).then(res => {\n      console.log(res.data);\n      const result = res.data.data;\n\n      if (result) {\n        dispatch(changelogin(result));\n      } else {\n        alert('登录失败');\n      }\n    }).catch(() => {\n      console.log('err');\n    });\n  };\n};","map":{"version":3,"sources":["D:\\Code\\react\\jianshu\\src\\pages\\login\\store\\actionCreators.js"],"names":["constants","axios","changelogin","value","type","CHANGE_LOGIN","logout","CHANGE_LOGOUT","login","account","password","dispatch","get","then","res","console","log","data","result","alert","catch"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,eAA3B,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAIC,KAAD,KAAW;AAC3BC,EAAAA,IAAI,EAACJ,SAAS,CAACK,YADY;AAE3BF,EAAAA;AAF2B,CAAX,CAApB;;AAKA,OAAO,MAAMG,MAAM,GAAE,OAAM;AACvBF,EAAAA,IAAI,EAACJ,SAAS,CAACO,aADQ;AAEvBJ,EAAAA,KAAK,EAAC;AAFiB,CAAN,CAAd;AAKP,OAAO,MAAMK,KAAK,GAAG,CAACC,OAAD,EAASC,QAAT,KAAqB;AACtC,SAAQC,QAAD,IAAa;AAChBV,IAAAA,KAAK,CAACW,GAAN,CAAU,6BAA6BH,OAA7B,GAAuC,YAAvC,GAAsDC,QAAhE,EAA0EG,IAA1E,CAAgFC,GAAD,IAAQ;AACnFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,YAAMC,MAAM,GAAEJ,GAAG,CAACG,IAAJ,CAASA,IAAvB;;AACA,UAAGC,MAAH,EAAU;AACNP,QAAAA,QAAQ,CAACT,WAAW,CAACgB,MAAD,CAAZ,CAAR;AACH,OAFD,MAEK;AACDC,QAAAA,KAAK,CAAC,MAAD,CAAL;AACH;AAEJ,KATD,EASGC,KATH,CASS,MAAK;AACVL,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH,KAXD;AAYH,GAbD;AAcH,CAfM","sourcesContent":["import * as constants from './actionTypes';\r\n// import {fromJS} from  'immutable';\r\nimport axios from 'axios';\r\n\r\nconst changelogin = (value) =>({\r\n    type:constants.CHANGE_LOGIN,\r\n    value\r\n})\r\n\r\nexport const logout =() =>({\r\n    type:constants.CHANGE_LOGOUT,\r\n    value:false\r\n})\r\n\r\nexport const login = (account,password) =>{\r\n    return (dispatch) =>{\r\n        axios.get('/api/login.json?account=' + account + '&password=' + password).then((res) =>{\r\n            console.log(res.data)\r\n            const result =res.data.data\r\n            if(result){\r\n                dispatch(changelogin(result))\r\n            }else{\r\n                alert('登录失败')\r\n            }\r\n           \r\n        }).catch(() =>{\r\n            console.log('err')\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}