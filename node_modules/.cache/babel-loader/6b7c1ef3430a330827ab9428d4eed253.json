{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\react\\\\jianshu\\\\src\\\\common\\\\header\\\\index.js\";\nimport React, { PureComponent } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { connect } from 'react-redux';\nimport { actionCreators } from './store';\nimport { actionCreators as loginActionCreators } from '../../pages/login/store';\nimport { Link } from 'react-router-dom';\nimport { // FixedHeader,\nHeaderWrapper, Hdiv, Logo, Nav, NavItem, Beta, NavSearch, // SearchInfoRotate,\nSearchInfo, SearchInfoHeader, SearchInfoSwitch, SearchInfoList, SearchInfoItem, SearchWrapper, Addittion, Button } from './style';\n\nclass Header extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    this.getListArea = () => {\n      const _this$props = this.props,\n            focused = _this$props.focused,\n            list = _this$props.list,\n            page = _this$props.page,\n            handleMouseEnter = _this$props.handleMouseEnter,\n            handleMouseLeave = _this$props.handleMouseLeave,\n            handleChangePage = _this$props.handleChangePage,\n            mouseIn = _this$props.mouseIn,\n            totalPage = _this$props.totalPage;\n      const jsList = list.toJS();\n      const pageList = [];\n\n      if (jsList.length) {\n        for (let i = (page - 1) * 10; i < page * 10; i++) {\n          // console.log(jsList[i])\n          if (jsList[i] === undefined) {\n            break;\n          } else {\n            pageList.push(React.createElement(SearchInfoItem, {\n              key: jsList[i],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106\n              },\n              __self: this\n            }, jsList[i]));\n          }\n        }\n      }\n\n      if (focused || mouseIn) {\n        return React.createElement(SearchInfo, {\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(SearchInfoHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, \"\\u70ED\\u95E8\\u641C\\u7D22\", React.createElement(SearchInfoSwitch, {\n          onClick: () => {\n            handleChangePage(page, totalPage);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"iconfont\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, \"\\uE601\"), \"\\u6362\\u4E00\\u6279\")), React.createElement(SearchInfoList, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, pageList));\n      } else {\n        return null;\n      }\n    };\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          focused = _this$props2.focused,\n          handleInputFocus = _this$props2.handleInputFocus,\n          handleInputBlur = _this$props2.handleInputBlur,\n          list = _this$props2.list,\n          login = _this$props2.login;\n    return (// <FixedHeader>\n      React.createElement(HeaderWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Hdiv, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      })), React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(NavItem, {\n        className: \"left active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"iconfont homespan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"\\uE604\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"\\u9996\\u9875\"))), React.createElement(NavItem, {\n        className: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"iconfont appspan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"\\uE666\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"\\u4E0B\\u8F7DApp\")), React.createElement(SearchWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(CSSTransition, {\n        in: focused,\n        timeout: 300,\n        classNames: \"slide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(NavSearch, {\n        className: focused ? 'focused' : '',\n        onFocus: () => {\n          handleInputFocus(list);\n        },\n        onBlur: handleInputBlur,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: focused ? 'focused iconfont zoom' : 'iconfont zoom',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"\\uE651\"), this.getListArea()), React.createElement(NavItem, {\n        className: \"right img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Beta, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(NavItem, {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"\\uE607\"))), React.createElement(Addittion, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/write\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"writting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"\\uE600\"), \"\\u5199\\u6587\\u7AE0\")), React.createElement(Button, {\n        className: \"reg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"\\u6CE8\\u518C\"), login ? React.createElement(Button, {\n        className: \"login\",\n        onClick: this.props.handleLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"\\u9000\\u51FA\") : React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\"))))) // </FixedHeader>\n\n    );\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    focused: state.getIn(['header', 'focused']),\n    list: state.getIn(['header', 'list']),\n    page: state.getIn(['header', 'page']),\n    mouseIn: state.getIn(['header', 'mouseIn']),\n    totalPage: state.getIn(['header', 'totalPage']),\n    login: state.getIn(['login', 'login']) //   state.get('header').get('focused')\n\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleInputFocus(list) {\n      list.size === 0 && dispatch(actionCreators.getList());\n      const action = actionCreators.gethandleInputFocus();\n      dispatch(action);\n    },\n\n    handleInputBlur() {\n      const action = actionCreators.gethandleInputBlur();\n      dispatch(action);\n    },\n\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    },\n\n    handleMouseLeave() {\n      dispatch(actionCreators.mouseLeave());\n    },\n\n    handleChangePage(page, totalPage) {\n      if (page < totalPage) {\n        dispatch(actionCreators.changePage(page + 1));\n      } else {\n        dispatch(actionCreators.changePage(1));\n      }\n    },\n\n    handleLogOut() {\n      dispatch(loginActionCreators.logout());\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["D:\\Code\\react\\jianshu\\src\\common\\header\\index.js"],"names":["React","PureComponent","CSSTransition","connect","actionCreators","loginActionCreators","Link","HeaderWrapper","Hdiv","Logo","Nav","NavItem","Beta","NavSearch","SearchInfo","SearchInfoHeader","SearchInfoSwitch","SearchInfoList","SearchInfoItem","SearchWrapper","Addittion","Button","Header","getListArea","props","focused","list","page","handleMouseEnter","handleMouseLeave","handleChangePage","mouseIn","totalPage","jsList","toJS","pageList","length","i","undefined","push","render","handleInputFocus","handleInputBlur","login","handleLogOut","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","size","getList","action","gethandleInputFocus","gethandleInputBlur","mouseEnter","mouseLeave","changePage","logout"],"mappings":"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","sourcesContent":["import React ,{PureComponent} from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { connect } from 'react-redux';\r\nimport {actionCreators} from './store';\r\nimport {actionCreators as loginActionCreators} from '../../pages/login/store'\r\nimport {Link} from 'react-router-dom';\r\nimport {\r\n    // FixedHeader,\r\n    HeaderWrapper,\r\n    Hdiv,\r\n    Logo,\r\n    Nav,\r\n    NavItem,\r\n    Beta,\r\n    NavSearch,\r\n    // SearchInfoRotate,\r\n    SearchInfo,\r\n    SearchInfoHeader,\r\n    SearchInfoSwitch,\r\n    SearchInfoList,\r\n    SearchInfoItem,\r\n    SearchWrapper,\r\n    Addittion,\r\n    Button\r\n} from './style'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Header extends PureComponent{\r\n    \r\n    render(){\r\n        const {focused,handleInputFocus,handleInputBlur,list,login}  = this.props;\r\n        return(\r\n            // <FixedHeader>\r\n            <HeaderWrapper>\r\n                  <Hdiv>\r\n                  <Link to='/'>\r\n                  <Logo />\r\n                  </Link>\r\n                  <Nav>\r\n                      <NavItem className='left active'>\r\n                      <Link to='/login'>\r\n                      <span className=\"iconfont homespan\">&#xe604;</span>\r\n                      <span>首页</span>\r\n                      </Link>\r\n                      </NavItem>\r\n                      <NavItem className='left'>\r\n                      <span className=\"iconfont appspan\">&#xe666;</span>\r\n                      <span>下载App</span>\r\n                      </NavItem>\r\n                      <SearchWrapper>\r\n\r\n                      <CSSTransition\r\n                        in ={focused}\r\n                        timeout={300}\r\n                        classNames='slide'\r\n                        >\r\n                          <NavSearch\r\n                          className ={focused ? 'focused' :''}\r\n                          onFocus ={() =>{handleInputFocus(list)}}\r\n                          onBlur ={handleInputBlur}\r\n                          ></NavSearch>\r\n                          </CSSTransition>\r\n                          <span className={focused ? 'focused iconfont zoom' :'iconfont zoom'}\r\n                          \r\n                          >&#xe651;</span>\r\n                      {this.getListArea()}    \r\n                      </SearchWrapper>\r\n                      \r\n                      <NavItem className='right img'><Beta></Beta></NavItem>\r\n                      <NavItem className='right'>\r\n                      <span className=\"iconfont\">&#xe607;</span>\r\n                      </NavItem>\r\n                  </Nav>\r\n                  <Addittion>\r\n                      <Link to ='/write'><Button className='writting'>\r\n                      <span className=\"iconfont\">&#xe600;</span>\r\n                      写文章</Button></Link>\r\n                      <Button className ='reg'>注册</Button>\r\n                      {login ? <Button className ='login'\r\n                      onClick ={this.props.handleLogOut}\r\n                      >退出</Button> :<Link to ='/login'><Button className ='login'>登录</Button></Link>}\r\n                      \r\n                  </Addittion>\r\n                  </Hdiv>\r\n                </HeaderWrapper>\r\n                // </FixedHeader>\r\n        )\r\n    }\r\n\r\ngetListArea =() =>{\r\n    const {focused , list ,page,handleMouseEnter,handleMouseLeave,handleChangePage,mouseIn,totalPage} = this.props;\r\n    const jsList = list.toJS();\r\n    const pageList =[];\r\n    if (jsList.length){\r\n        for (let i =(page-1)*10; i < page*10; i++){\r\n            // console.log(jsList[i])\r\n            if(jsList[i]===undefined){\r\n                break\r\n            }else{\r\n                pageList.push(\r\n                    <SearchInfoItem key={jsList[i]}>{jsList[i]}</SearchInfoItem>\r\n                    )\r\n            }\r\n           \r\n        }\r\n    }\r\n    \r\n        if(focused || mouseIn) {\r\n            return(\r\n            \r\n            \r\n            <SearchInfo \r\n            onMouseEnter ={handleMouseEnter}\r\n            onMouseLeave ={handleMouseLeave}\r\n            >\r\n           \r\n            {/* <SearchInfoRotate></SearchInfoRotate> */}\r\n                <SearchInfoHeader>\r\n                    热门搜索\r\n                    \r\n                    <SearchInfoSwitch \r\n                    onClick ={() => {handleChangePage(page,totalPage)}}\r\n                    >\r\n                    <span className=\"iconfont\">&#xe601;</span>\r\n                        换一批\r\n                    </SearchInfoSwitch>\r\n                </SearchInfoHeader>\r\n                <SearchInfoList>\r\n                    \r\n                   {pageList}\r\n                </SearchInfoList>\r\n            </SearchInfo>\r\n            \r\n            )\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return{\r\n      focused: state.getIn(['header','focused']),\r\n      list : state.getIn(['header','list']),\r\n      page: state.getIn(['header','page']),\r\n      mouseIn:state.getIn(['header','mouseIn']),\r\n      totalPage:state.getIn(['header','totalPage']),\r\n      login:state.getIn(['login','login'])\r\n    //   state.get('header').get('focused')\r\n    }   \r\n  }\r\n  const mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n      handleInputFocus(list){\r\n          (list.size === 0) && dispatch(actionCreators.getList())\r\n          const action =actionCreators.gethandleInputFocus();\r\n          \r\n          dispatch (action)\r\n      },\r\n      handleInputBlur(){\r\n          const action =actionCreators.gethandleInputBlur();\r\n          dispatch (action)\r\n      },\r\n      handleMouseEnter(){\r\n          dispatch(actionCreators.mouseEnter())\r\n      },\r\n      handleMouseLeave(){\r\n          dispatch(actionCreators.mouseLeave())\r\n      },\r\n      handleChangePage(page,totalPage){\r\n          if(page <totalPage){\r\n            dispatch(actionCreators.changePage(page +1))\r\n          }else{\r\n              dispatch(actionCreators.changePage(1))\r\n          }   \r\n      },\r\n      handleLogOut(){\r\n        dispatch(loginActionCreators.logout())\r\n      }\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Header);"]},"metadata":{},"sourceType":"module"}