{"ast":null,"code":"import * as constants from './actionTypes';\nimport { fromJS } from 'immutable';\nimport axios from 'axios';\n\nconst changeHomeList = data => ({\n  type: constants.CHANGE_TOPIC_LIST,\n  data\n});\n\nconst changMoreList = (data, nextPage) => ({\n  type: constants.CHANGE_MORE_LIST,\n  data: fromJS(data),\n  nextPage\n});\n\nexport const changeShowScroll = show => ({\n  type: constants.CHANGE_SHOW_TOP,\n  show\n});\nexport const getHomeList = () => {\n  return dispatch => {\n    axios.get('/api/home.json').then(res => {\n      dispatch(changeHomeList(res.data.data));\n    }).catch(() => {\n      console.log('err');\n    });\n  };\n};\nexport const getMorelist = page => {\n  return dispatch => {\n    axios.get('api/homeList.json?page=' + page).then(res => {\n      // console.log(res.data.data.articleList)\n      dispatch(changMoreList(res.data.data.articleList, page + 1));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["D:\\Code\\react\\jianshu\\src\\pages\\home\\store\\actionCreators.js"],"names":["constants","fromJS","axios","changeHomeList","data","type","CHANGE_TOPIC_LIST","changMoreList","nextPage","CHANGE_MORE_LIST","changeShowScroll","show","CHANGE_SHOW_TOP","getHomeList","dispatch","get","then","res","catch","console","log","getMorelist","page","articleList","err"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,eAA3B;AACA,SAAQC,MAAR,QAAsB,WAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,cAAc,GAAIC,IAAD,KAAU;AAC7BC,EAAAA,IAAI,EAACL,SAAS,CAACM,iBADc;AAE7BF,EAAAA;AAF6B,CAAV,CAAvB;;AAIA,MAAMG,aAAa,GAAG,CAACH,IAAD,EAAMI,QAAN,MAAmB;AACrCH,EAAAA,IAAI,EAACL,SAAS,CAACS,gBADsB;AAErCL,EAAAA,IAAI,EAACH,MAAM,CAACG,IAAD,CAF0B;AAGrCI,EAAAA;AAHqC,CAAnB,CAAtB;;AAMA,OAAO,MAAME,gBAAgB,GAAIC,IAAD,KAAU;AACtCN,EAAAA,IAAI,EAACL,SAAS,CAACY,eADuB;AAEtCD,EAAAA;AAFsC,CAAV,CAAzB;AAKP,OAAO,MAAME,WAAW,GAAG,MAAK;AAC5B,SAAQC,QAAD,IAAa;AAChBZ,IAAAA,KAAK,CAACa,GAAN,CAAU,gBAAV,EAA4BC,IAA5B,CAAkCC,GAAD,IAAQ;AACrCH,MAAAA,QAAQ,CAACX,cAAc,CAACc,GAAG,CAACb,IAAJ,CAASA,IAAV,CAAf,CAAR;AACH,KAFD,EAEGc,KAFH,CAES,MAAK;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH,KAJD;AAKH,GAND;AAOH,CARM;AAUP,OAAO,MAAMC,WAAW,GAAIC,IAAD,IAAS;AAChC,SAAOR,QAAD,IAAa;AACfZ,IAAAA,KAAK,CAACa,GAAN,CAAU,4BAA2BO,IAArC,EAA2CN,IAA3C,CAAiDC,GAAD,IAAQ;AACpD;AACAH,MAAAA,QAAQ,CAACP,aAAa,CAACU,GAAG,CAACb,IAAJ,CAASA,IAAT,CAAcmB,WAAf,EAA2BD,IAAI,GAAC,CAAhC,CAAd,CAAR;AACH,KAHD,EAGGJ,KAHH,CAGUM,GAAD,IAAQ;AACbL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,KALD;AAMH,GAPD;AAQH,CATM","sourcesContent":["import * as constants from './actionTypes';\r\nimport {fromJS} from  'immutable';\r\nimport axios from 'axios';\r\n\r\nconst changeHomeList = (data) =>({\r\n    type:constants.CHANGE_TOPIC_LIST,\r\n    data\r\n})\r\nconst changMoreList = (data,nextPage) =>({\r\n    type:constants.CHANGE_MORE_LIST,\r\n    data:fromJS(data),\r\n    nextPage\r\n})\r\n\r\nexport const changeShowScroll = (show) =>({\r\n    type:constants.CHANGE_SHOW_TOP,\r\n    show\r\n})\r\n\r\nexport const getHomeList = () =>{\r\n    return (dispatch) =>{\r\n        axios.get('/api/home.json').then((res) =>{\r\n            dispatch(changeHomeList(res.data.data))\r\n        }).catch(() =>{\r\n            console.log('err')\r\n        })\r\n    }\r\n}\r\n\r\nexport const getMorelist = (page) =>{\r\n    return(dispatch) =>{\r\n        axios.get('api/homeList.json?page='+ page).then((res) =>{\r\n            // console.log(res.data.data.articleList)\r\n            dispatch(changMoreList(res.data.data.articleList,page+1))\r\n        }).catch((err) =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}